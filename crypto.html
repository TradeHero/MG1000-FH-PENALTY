<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="src/crypto.js"></script>
    <title></title>
</head>
<body>
<label for="code">Enter your code to encrypt or decrypt</label>
<input type="text" id="code"/>
<button onclick="decrypt()">Decode</button>
<button onclick="encrypt()">Encode</button>

<script>

    function decrypt() {
        var input = document.getElementById("code").value.toString();
        var output = Crypto.decodeEggId(input);

        var p = document.getElementById("output");

        if (p == null || p == undefined) {
            p = document.createElement("p");
            p.id = "output";
            p.innerHTML = output.toString();
            document.body.appendChild(p);
        } else {
            p.innerHTML = output;
        }
    }

    function encrypt() {
        var x = document.getElementById("code");
        var input = parseInt(x.value, 10);
        var output;
        if (input == null || input == undefined) {
            output = "Unable to parse id, must be int!!"
        } else {
            output = Crypto.encodeEggId(input);
        }

        var p = document.getElementById("output");
        console.debug(p);
        if (p == null || p == undefined) {
            p = document.createElement("p");
            p.id = "output";
            p.innerHTML = output;
            document.body.appendChild(p);
        } else {
            p.innerHTML = output;
        }
    }

</script>

</body>
</html>